(function(n,l,i,m,a){"use strict";function b(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(o){if(o!=="default"){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}}),t.default=e,Object.freeze(t)}var r=b(m);const{TooltipContainer:P}=n.webpack.findByProps("TooltipContainer"),{get:y,isSupported:g}=n.webpack.findByProps("get","isSupported");var _=({account:e})=>{if(!g(e.type))return null;const t=y(e.type);return r.createElement(P,{className:"sc-connection",text:e.name},r.createElement("a",{target:"_blank",href:t.getPlatformUserUrl?.(e)},r.createElement("img",{alt:i.i18n.Messages.IMG_ALT_LOGO.format({name:t?.name}),src:t?.icon?.darkSVG})))};const c={...n.webpack.findByProps("base","muted"),...n.webpack.findByProps("size12"),...n.webpack.findByProps("bodyTitle"),...n.webpack.findByProps("scrollbarGhostHairline")},{fetchProfile:h}=n.webpack.findByProps("fetchProfile");var E=({user:e})=>{const[t,o]=r.useState();return t||h(e,"cumcord",s=>o(s.connected_accounts)),!t?.length>0?null:[r.createElement("h3",{className:[c.base,c.muted,c.uppercase,c.size12,c.bodyTitle].join(" ")},"Connections"),r.createElement("div",{className:`sc-connectAccounts ${c.scrollbarGhostHairline}`},t.map(s=>r.createElement(_,{account:s})))]},O=()=>l.injectCSS(".sc-connectAccounts{display:flex;overflow-x:auto;margin-bottom:11px}.sc-connection{display:flex}.sc-connection a{display:flex;height:30px;width:34px}");const{openUserProfileModal:B,closeUserProfileModal:U}=a.findByProps("openUserProfileModal"),{getCurrentUser:u}=a.findByProps("getCurrentUser","getUser");function p(){if(a.findByProps("connectedAccount"))return;if(!u())return setTimeout(p,100);const e=()=>{setTimeout(()=>U(),100),i.FluxDispatcher.unsubscribe("USER_PROFILE_MODAL_OPEN",e)};i.FluxDispatcher.subscribe("USER_PROFILE_MODAL_OPEN",e),B({userId:u().id,guildId:null})}let f,d;const x=n.webpack.findByDisplayName("UserPopoutBody",!1);var w=()=>(p(),{onLoad(){d=O(),f=l.after("default",x,([{user:e}],t)=>t&&(t.props.children.splice(3,0,i.React.createElement(E,{user:e.id})),t))},onUnload(){f?.(),d?.()}});return w})(cumcord.modules,cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.modules.webpack);
