(function(n,a,c,y,l){"use strict";function b(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var o=b(y);const{TooltipContainer:m}=n.webpack.findByProps("TooltipContainer"),{get:P,isSupported:g}=n.webpack.findByProps("get","isSupported");var h=({account:e})=>{if(!g(e.type))return null;const t=P(e.type);return o.createElement(m,{className:"sc-connection",text:e.name},o.createElement("a",{target:"_blank",href:t.getPlatformUserUrl?.(e)},o.createElement("img",{alt:c.i18n.Messages.IMG_ALT_LOGO.format({name:t?.name}),src:t?.icon?.darkSVG})))};const u={...n.webpack.findByProps("bodyTitle","note"),...n.webpack.findByProps("scrollbarGhostHairline"),...n.webpack.findByProps("title","body")},{getUserProfile:E}=n.webpack.findByProps("getUserProfile"),{Heading:O}=n.webpack.findByProps("Heading");var p=({user:e,skin:t})=>{const r=E(e).connectedAccounts;return!r?.length>0?null:[o.createElement(O,{className:t?u.title:u.bodyTitle,color:!t&&"header-secondary",level:3,variant:"eyebrow"},"Connections"),o.createElement("div",{className:`sc-connectAccounts ${u.scrollbarGhostHairline}`},r.map(i=>o.createElement(h,{account:i})))]},U=()=>a.injectCSS(".sc-connectAccounts{display:flex;overflow-x:auto;margin-bottom:11px}.sc-connection{display:flex}.sc-connection a{display:flex;height:30px;width:34px}");const{openUserProfileModal:_,closeUserProfileModal:B}=l.findByProps("openUserProfileModal"),{getCurrentUser:d}=l.findByProps("getCurrentUser","getUser");function f(){if(l.findByProps("connectedAccount"))return;if(!d())return setTimeout(f,100);const e=()=>{setTimeout(()=>B(),100),c.FluxDispatcher.unsubscribe("USER_PROFILE_MODAL_OPEN",e)};c.FluxDispatcher.subscribe("USER_PROFILE_MODAL_OPEN",e),_({userId:d().id,guildId:null})}const s=[],w=n.webpack.findByDisplayName("UserPopoutBody",!1),v=n.webpack.findByDisplayName("NoteSection",!1);var x=()=>(f(),{onLoad(){s.push(U()),s.push(a.after("default",w,([{user:e}],t)=>t&&(t.props.children.splice(6,0,c.React.createElement(p,{user:e.id})),t))),s.push(a.after("default",v,([{user:e}],t)=>(t?.props?.children?.unshift(c.React.createElement(p,{user:e.id,skin:!0})),t)))},onUnload(){s.forEach(e=>e?.())}});return x})(cumcord.modules,cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.modules.webpack);
