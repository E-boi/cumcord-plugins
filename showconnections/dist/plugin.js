(function(n,a,o,b,l){"use strict";function m(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var c=m(b);const{TooltipContainer:P}=n.webpack.findByProps("TooltipContainer"),{get:h,isSupported:g}=n.webpack.findByProps("get","isSupported");var E=({account:e})=>{if(!g(e.type))return null;const t=h(e.type);return c.createElement(P,{className:"sc-connection",text:e.name},c.createElement("a",{target:"_blank",href:t.getPlatformUserUrl?.(e)},c.createElement("img",{alt:o.i18n.Messages.IMG_ALT_LOGO.format({name:t?.name}),src:t?.icon?.darkSVG})))};const u={...n.webpack.findByProps("bodyTitle","note"),...n.webpack.findByProps("scrollbarGhostHairline"),...n.webpack.findByProps("title","body")},{fetchProfile:_}=n.webpack.findByProps("fetchProfile"),{Heading:O}=n.webpack.findByProps("Heading");var f=({user:e,skin:t})=>{const[r,i]=c.useState();return r||_(e,"cumcord",p=>i(p.connected_accounts)),!r?.length>0?null:[c.createElement(O,{className:t?u.title:u.bodyTitle,color:!t&&"header-secondary",level:3,variant:"eyebrow"},"Connections"),c.createElement("div",{className:`sc-connectAccounts ${u.scrollbarGhostHairline}`},r.map(p=>c.createElement(E,{account:p})))]},B=()=>a.injectCSS(".sc-connectAccounts{display:flex;overflow-x:auto;margin-bottom:11px}.sc-connection{display:flex}.sc-connection a{display:flex;height:30px;width:34px}");const{openUserProfileModal:w,closeUserProfileModal:U}=l.findByProps("openUserProfileModal"),{getCurrentUser:d}=l.findByProps("getCurrentUser","getUser");function y(){if(l.findByProps("connectedAccount"))return;if(!d())return setTimeout(y,100);const e=()=>{setTimeout(()=>U(),100),o.FluxDispatcher.unsubscribe("USER_PROFILE_MODAL_OPEN",e)};o.FluxDispatcher.subscribe("USER_PROFILE_MODAL_OPEN",e),w({userId:d().id,guildId:null})}const s=[],v=n.webpack.findByDisplayName("UserPopoutBody",!1),x=n.webpack.findByDisplayName("NoteSection",!1);var S=()=>(y(),{onLoad(){s.push(B()),s.push(a.after("default",v,([{user:e}],t)=>t&&(t.props.children.splice(6,0,o.React.createElement(f,{user:e.id})),t))),s.push(a.after("default",x,([{user:e}],t)=>(t?.props?.children?.unshift(o.React.createElement(f,{user:e.id,skin:!0})),t)))},onUnload(){s.forEach(e=>e?.())}});return S})(cumcord.modules,cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.modules.webpack);
