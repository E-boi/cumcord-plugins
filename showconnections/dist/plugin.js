(function(n,l,c,b,i){"use strict";function m(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(s){if(s!=="default"){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}}),t.default=e,Object.freeze(t)}var r=m(b);const{TooltipContainer:y}=n.webpack.findByProps("TooltipContainer"),{get:P,isSupported:g}=n.webpack.findByProps("get","isSupported");var _=({account:e})=>{if(!g(e.type))return null;const t=P(e.type);return r.createElement(y,{className:"sc-connection",text:e.name},r.createElement("a",{target:"_blank",href:t.getPlatformUserUrl?.(e)},r.createElement("img",{alt:c.i18n.Messages.IMG_ALT_LOGO.format({name:t?.name}),src:t?.icon?.darkSVG})))};const o={...n.webpack.findByProps("base","muted"),...n.webpack.findByProps("size12"),...n.webpack.findByProps("bodyTitle"),...n.webpack.findByProps("scrollbarGhostHairline")},{fetchProfile:h}=n.webpack.findByProps("fetchProfile");var E=({user:e})=>{const[t,s]=r.useState();return t||h(e,"cumcord",a=>s(a.connected_accounts)),!t?.length>0?null:[r.createElement("h3",{className:[o.base,o.muted,o.uppercase,o.size12,o.bodyTitle].join(" ")},"Connections"),r.createElement("div",{className:`sc-connectAccounts ${o.scrollbarGhostHairline}`},t.map(a=>r.createElement(_,{account:a})))]},O=()=>l.injectCSS(".sc-connectAccounts{display:flex;overflow-x:auto;margin-bottom:11px}.sc-connection{display:flex}.sc-connection a{display:flex;height:30px;width:34px}");const{openUserProfileModal:B,closeUserProfileModal:U}=i.findByProps("openUserProfileModal"),{getCurrentUser:u}=i.findByProps("getCurrentUser","getUser");function p(){if(i.findByProps("connectedAccount"))return;if(!u())return setTimeout(p,100);const e=()=>{setTimeout(U,100),c.FluxDispatcher.unsubscribe(c.constants.ActionTypes.USER_PROFILE_MODAL_OPEN,e)};c.FluxDispatcher.subscribe(c.constants.ActionTypes.USER_PROFILE_MODAL_OPEN,e),B({userId:u().id,guildId:null})}let d,f;const x=n.webpack.findByDisplayNameAll("UserPopoutBody",!1)[1];var w=()=>(p(),{onLoad(){f=O(),d=l.after("default",x,([{user:e}],t)=>t&&(t.props.children.splice(2,0,c.React.createElement(E,{user:e.id})),t))},onUnload(){d?.(),f?.()}});return w})(cumcord.modules,cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.modules.webpack);
