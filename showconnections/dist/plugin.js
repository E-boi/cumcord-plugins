(function(c,l,o,y,i){"use strict";function m(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var r=m(y);const{TooltipContainer:P}=c.webpack.findByProps("TooltipContainer"),{get:g,isSupported:h}=c.webpack.findByProps("get","isSupported");var O=({account:e})=>{if(!h(e.type))return null;const t=c.webpack.findByProps("connectedAccount"),n=g(e.type);return r.createElement(P,{className:"sc-connection scrollbarGhostHairline-1mSOM1",text:e.name},r.createElement("a",{target:"_blank",href:n.getPlatformUserUrl?.(e)},r.createElement("img",{alt:o.i18n.Messages.IMG_ALT_LOGO.format({name:n?.name}),className:t.connectedAccountIcon,src:n?.icon?.darkSVG})))};const a={...c.webpack.findByProps("base","muted"),...c.webpack.findByProps("size12"),...c.webpack.findByProps("bodyTitle"),...c.webpack.findByProps("scrollbarGhostHairline")},{fetchProfile:_}=c.webpack.findByProps("fetchProfile");var E=({user:e})=>{const[t,n]=r.useState();return t||_(e,"cumcord",s=>n(s.connected_accounts)),!t?.length>0?null:[r.createElement("h3",{className:[a.base,a.muted,a.uppercase,a.size12,a.bodyTitle].join(" ")},"Connections"),r.createElement("div",{className:`sc-connectAccounts ${a.scrollbarGhostHairline}`},t.map(s=>r.createElement(O,{account:s})))]},B=()=>l.injectCSS(".sc-connectAccounts{display:flex;overflow-x:auto;margin-bottom:11px}.sc-connection{display:flex}.sc-connection a{display:flex;height:30px;width:34px}");const{openUserProfileModal:U,closeUserProfileModal:w}=i.findByProps("openUserProfileModal"),{getCurrentUser:u}=i.findByProps("getCurrentUser","getUser");function p(){if(i.findByProps("connectedAccount"))return;if(!u())return setTimeout(p,100);const e=()=>{setTimeout(w,100),o.FluxDispatcher.unsubscribe(o.constants.ActionTypes.USER_PROFILE_MODAL_OPEN,e)};o.FluxDispatcher.subscribe(o.constants.ActionTypes.USER_PROFILE_MODAL_OPEN,e),U({userId:u().id,guildId:null})}let d,f;const b=c.webpack.find(e=>e.default?.displayName==="UserPopoutBody");var x=()=>(p(),{onLoad(){f=B(),d=l.after("default",b,([{user:e}],t)=>t&&(t.props.children.splice(2,0,o.React.createElement(E,{user:e.id})),t)),b.default.displayName="UserPopoutBody"},onUnload(){d?.(),f?.()}});return x})(cumcord.modules,cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.modules.webpack);
