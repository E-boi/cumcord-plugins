(function(o,f,d,r,v,E,a){"use strict";function b(e){if(e&&e.__esModule)return e;var s=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}}),s.default=e,Object.freeze(s)}var c=b(v);const g={dividerDefault:a.webpack.findByProps("dividerDefault").dividerDefault,divider:a.webpack.find(e=>e.divider?.includes("divider-_")).divider};var N=({className:e})=>c.createElement("div",{className:`${g.divider} ${g.dividerDefault} ${e}`});const $=a.webpack.findByDisplayName("FormItem"),B=a.webpack.findByDisplayName("FormText"),i={...a.webpack.findByProps("marginBottom20"),...a.webpack.findByProps("formText"),...a.webpack.findByDisplayName("Flex")};var P=e=>c.createElement($,{title:e.title,required:e.required,className:`${i.Direction.VERTICAL} ${i.Justify.START} ${i.Align.STRETCH} ${i.Wrap.NO_WRAP} ${i.marginBottom20}`},e.children,e.note&&c.createElement(B,{className:`${i.description} ${i.marginTop8}`},e.note),c.createElement(N,{className:[i.marginTop20].join(" ")}));const A=a.webpack.findByDisplayName("TextInput");var M=e=>{const s=e.children;return delete e.children,c.createElement(P,{title:s,required:e.required,note:e.note},c.createElement(A,{...e}))};const h=o.findByDisplayName("SwitchItem");var R=()=>(E.useNest(r.persist),c.createElement("div",null,c.createElement(h,{value:r.persist.ghost.hour12,onChange:()=>r.persist.store.hour12=!r.persist.ghost.hour12},"12-hour time format"),c.createElement(h,{value:r.persist.ghost.custom,onChange:()=>r.persist.store.custom=!r.persist.ghost.custom},"Custom time format"),c.createElement(M,{value:r.persist.ghost.format||"%d.%m.%y, %H:%M:%S %ampm",onChange:e=>r.persist.store.format=e,disabled:!r.persist.ghost.custom},"Format"))),T=()=>f.injectCSS(".createdAt-text{padding:0 0 16px 16px}");const l=[],m=o.findByDisplayName("Text")||o.findByDisplayName("LegacyText"),x=o.findByProps("UserPopoutInfo"),{getMember:S}=o.findByProps("getMember"),{getGuildId:C}=o.findByProps("getLastSelectedGuildId");let y=!1;var j={async onLoad(){y=!1,l.push(T()),l.push(f.after("UserPopoutInfo",x,([{user:s}],t)=>{const n=S(C(),s.id);if(!n){const O=u(s.createdAt);return t.props.children.splice(2,0,d.React.createElement(m,null,`Created on ${O}`)),t}const p=u(new Date(n.joinedAt)),I=u(s.createdAt);return t.props.children.splice(2,0,d.React.createElement("div",null,[d.React.createElement(m,null,`Created on ${I}`),d.React.createElement(m,null,`Joined on ${p}`)])),t}));const e=await o.findAsync(()=>o.findByDisplayName("UserProfileModalHeader",!1));y||l.push(f.after("default",e,([{user:s}],t)=>{const n=u(s.createdAt);return t.props.children.splice(3,0,d.React.createElement(m,{className:"createdAt-text"},`Created on ${n}`)),t}))},onUnload(){y=!0,l.forEach(e=>e?.())},settings:d.React.createElement(R)};function u(e){if(!e||e==="-")return"-";const s=r.persist.ghost.custom,t=r.persist.ghost.hour12;if(r.persist.ghost.custom||s){let n=e.getHours(),p="";return t&&(p=n>=12?"PM":"AM",n=n%12||12),(r.persist.ghost.format||"%d.%m.%y, %H:%M:%S %ampm").replace(/%d/g,("0"+e.getDate()).substr(-2)).replace(/%m/g,("0"+(e.getMonth()+1)).substr(-2)).replace(/%y/g,e.getFullYear()).replace(/%H/g,("0"+n).substr(-2)).replace(/%M/g,("0"+e.getMinutes()).substr(-2)).replace(/%S/g,("0"+e.getSeconds()).substr(-2)).replace(/%ampm/g,p)}return e.toLocaleString(d.i18n.getLocale(),{hour12:t})}return j})(cumcord.modules.webpack,cumcord.patcher,cumcord.modules.common,cumcord.pluginData,cumcord.modules.common.React,cumcord.utils,cumcord.modules);
