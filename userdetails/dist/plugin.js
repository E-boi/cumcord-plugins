(function(o,p,d,r,E,b,i){"use strict";function A(e){if(e&&e.__esModule)return e;var s=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}}),s.default=e,Object.freeze(s)}var c=A(E);const h={dividerDefault:i.webpack.findByProps("dividerDefault").dividerDefault,divider:i.webpack.find(e=>e.divider?.includes("divider-_")).divider};var B=({className:e})=>c.createElement("div",{className:`${h.divider} ${h.dividerDefault} ${e}`});const N=i.webpack.findByDisplayName("FormItem"),P=i.webpack.findByDisplayName("FormText"),a={...i.webpack.findByProps("marginBottom20"),...i.webpack.findByProps("formText"),...i.webpack.findByDisplayName("Flex")};var T=e=>c.createElement(N,{title:e.title,required:e.required,className:`${a.Direction.VERTICAL} ${a.Justify.START} ${a.Align.STRETCH} ${a.Wrap.NO_WRAP} ${a.marginBottom20}`},e.children,e.note&&c.createElement(P,{className:`${a.description} ${a.marginTop8}`},e.note),c.createElement(B,{className:[a.marginTop20].join(" ")}));const $=i.webpack.findByDisplayName("TextInput");var x=e=>{const s=e.children;return delete e.children,c.createElement(T,{title:s,required:e.required,note:e.note},c.createElement($,{...e}))};const y=o.findByDisplayName("SwitchItem");var S=()=>(b.useNest(r.persist),c.createElement("div",null,c.createElement(y,{value:r.persist.ghost.hour12,onChange:()=>r.persist.store.hour12=!r.persist.ghost.hour12},"12-hour time format"),c.createElement(y,{value:r.persist.ghost.custom,onChange:()=>r.persist.store.custom=!r.persist.ghost.custom},"Custom time format"),c.createElement(x,{value:r.persist.ghost.format||"%d.%m.%y, %H:%M:%S %ampm",onChange:e=>r.persist.store.format=e,disabled:!r.persist.ghost.custom},"Format"))),I=()=>p.injectCSS(".createdAt-text{padding:0 0 16px 16px}");const l=[],m=o.findByDisplayName("Text")||o.findByDisplayName("LegacyText"),M=o.findByProps("UserPopoutInfo"),{getMember:R}=o.findByProps("getMember"),{getGuildId:j}=o.findByProps("getLastSelectedGuildId");let g=!1;var C={async onLoad(){g=!1,l.push(I()),l.push(p.after("UserPopoutInfo",M,([{user:s}],t)=>{const n=R(j(),s.id);if(!n){const F=u(s.createdAt);return t.props.children.splice(2,0,d.React.createElement(m,null,`Created on ${F}`)),t}const f=u(new Date(n.joinedAt)),v=u(s.createdAt);return t.props.children.splice(2,0,d.React.createElement("div",null,[d.React.createElement(m,null,`Created on ${v}`),d.React.createElement(m,null,`Joined on ${f}`)])),t}));const e=await o.findAsync(()=>o.findByDisplayName("UserProfileModalHeader",!1));g||l.push(p.after("default",e,([{user:s}],t)=>{const n=u(s.createdAt);return t.props.children.splice(3,0,d.React.createElement(m,{className:"createdAt-text"},`Created on ${n}`)),t}))},onUnload(){g=!0,l.forEach(e=>e?.())},settings:d.React.createElement(S)};function u(e){if(!e||e==="-")return"-";const s=r.persist.ghost.custom,t=r.persist.ghost.hour12;if(r.persist.ghost.custom||s){let n=e.getHours(),f="";return t&&(f=n>=12?"PM":"AM",n=n%12||12),(r.persist.ghost.format||"%d.%m.%y, %H:%M:%S %ampm").replace(/%d/g,("0"+e.getDate()).substr(-2)).replace(/%m/g,("0"+(e.getMonth()+1)).substr(-2)).replace(/%y/g,e.getFullYear()).replace(/%H/g,("0"+n).substr(-2)).replace(/%M/g,("0"+e.getMinutes()).substr(-2)).replace(/%S/g,("0"+e.getSeconds()).substr(-2)).replace(/%ampm/g,f)}return e.toLocaleString(d.i18n.getLocale(),{hour12:t})}return C})(cumcord.modules.webpack,cumcord.patcher,cumcord.modules.common,cumcord.pluginData,cumcord.modules.common.React,cumcord.utils,cumcord.modules);
