(function(u,a,f,o,y,c){"use strict";function h(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var r=h(u);const[T,v,x,B,g,E,F,{default:L,DefaultColorButton:S,CustomColorButton:I,CustomColorPicker:j},O,z,d]=a.batchFind(e=>{e.findByDisplayName("FormItem"),e.findByDisplayName("FormText"),e.findByDisplayName("FormDivider"),e.findByDisplayName("Flex"),e.findByDisplayName("TextInput"),e.findByDisplayName("Slider"),e.findByDisplayName("SelectTempWrapper"),e.find(t=>t.default?.displayName==="ColorPicker"&&!t.default.defaultProps),e.findByDisplayName("Tooltip"),e.findByDisplayName("Popout"),e.findByProps("Sizes","Colors","Looks","DropdownSizes")});c.webpack.findByProps("dividerDefault").dividerDefault,{...c.webpack.findByProps("marginBottom20"),...c.webpack.findByProps("formText"),...B},a.findByProps("hex2int");const[{Heading:C},s]=a.batchFind(e=>{e.findByProps("Heading"),e.findByProps("title","animation")});var N=({onClick:e,children:t,channel:n})=>{y.useNest(o.persist);const i=o.persist.ghost.global&&2||o.persist.ghost.channels[n.id]&&1;return i?r.createElement("div",{className:s.wrapper},r.createElement("div",{className:s.content},r.createElement(C,{variant:"heading-md/medium",className:s.title},i===2?"You currently have the text area locked. Unlock it to speak.":"You currently have this channel locked. Unlock this channel to speak in it.")),r.createElement(d,{className:s.buttonContainer,size:d.Sizes.SMALL,color:d.Colors.PRIMARY,onClick:()=>e?.(i)},"Unlock")):t};const[k,p,b,D]=a.batchFind(e=>{e.findByDispNameDeep("ChannelTextAreaContainer"),e.findByDisplayName("HeaderBarContainer",!1),e.findByDisplayName("LockClosed"),e.findByDisplayName("ChannelText")}),m=[];var P={onLoad(){o.persist.ghost.channels||(o.persist.store.channels={}),m.push(f.after("render",k.type,([{channel:e}],t)=>r.createElement(N,{onClick:n=>n===2?l():l(e.id),channel:e},t))),m.push(f.after("default",p,([{channelId:e}],t)=>(e&&(t.props.children.props.toolbar||(t.props.children.props.toolbar=[]),t.props.children.props.toolbar.push(r.createElement(p.default.Icon,{onClick:()=>l(),icon:()=>r.createElement(b,null),tooltip:"Toogle Global Lock"}),r.createElement(p.default.Icon,{onClick:()=>l(e),icon:()=>r.createElement(D,null),tooltip:"Toogle Channel Lock"}))),t)))},onUnload(){m.forEach(e=>e?.())}};function l(e){e?o.persist.store.channels[e]=!o.persist.ghost.channels[e]:o.persist.store.global=!o.persist.ghost.global}return P})(cumcord.modules.common.React,cumcord.modules.webpack,cumcord.patcher,cumcord.pluginData,cumcord.utils,cumcord.modules);
