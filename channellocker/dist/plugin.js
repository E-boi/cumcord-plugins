(function(u,i,f,n,y,c){"use strict";function h(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(o){if(o!=="default"){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}}),t.default=e,Object.freeze(t)}var r=h(u);const[v,T,x,B,g,E,F,{default:I,DefaultColorButton:S,CustomColorButton:L,CustomColorPicker:O},j,z,d]=i.batchFind(e=>{e.findByDisplayName("FormItem"),e.findByDisplayName("FormText"),e.findByDisplayName("FormDivider"),e.findByDisplayName("Flex"),e.findByDisplayName("TextInput"),e.findByDisplayName("Slider"),e.findByDisplayName("SelectTempWrapper"),e.find(t=>t.default?.displayName==="ColorPicker"&&!t.default.defaultProps),e.findByDisplayName("Tooltip"),e.findByDisplayName("Popout"),e.findByProps("Sizes","Colors","Looks","DropdownSizes")});c.webpack.findByProps("dividerDefault").dividerDefault,{...c.webpack.findByProps("marginBottom20"),...c.webpack.findByProps("formText"),...B},i.findByProps("hex2int");const[{Heading:C},l]=i.batchFind(e=>{e.findByProps("Heading"),e.findByProps("title","animation")});var N=({onClick:e,children:t,channel:o})=>{y.useNest(n.persist);const a=n.persist.ghost.global&&2||n.persist.ghost.channels[o.id]&&1;return a?r.createElement("div",{className:l.wrapper},r.createElement("div",{className:l.content},r.createElement(C,{variant:"heading-md/medium",className:l.title},a===2?"You currently have the text area locked. Unlock it to speak.":"You currently have this channel locked. Unlock this channel to speak in it.")),r.createElement(d,{className:l.buttonContainer,size:d.Sizes.SMALL,color:d.Colors.PRIMARY,onClick:()=>e?.(a)},"Unlock")):t};const[b,p,k,P,_]=i.batchFind(e=>{e.findByDispNameDeep("ChannelTextAreaContainer"),e.findByDisplayName("HeaderBarContainer",!1),e.findByDisplayName("LockClosed"),e.findByDisplayName("ChannelText"),e.findByProps("iconWrapper","clickable")}),m=[];var D={onLoad(){n.persist.ghost.channels||(n.persist.store.channels={}),m.push(f.after("render",b.type,([{channel:e}],t)=>r.createElement(N,{onClick:o=>o===2?s():s(e.id),channel:e},t))),m.push(f.after("default",p,([{channelId:e}],t)=>(e&&(t.props.children.props.toolbar||(t.props.children.props.toolbar=[]),t.props.children.props.toolbar.push(r.createElement(p.default.Icon,{onClick:()=>s(),icon:()=>r.createElement(k,null),tooltip:"Toogle Global Lock"}),r.createElement(p.default.Icon,{onClick:()=>s(e),icon:()=>r.createElement(P,null),tooltip:"Toogle Channel Lock"}))),t)))},onUnload(){m.forEach(e=>e?.())}};function s(e){e?n.persist.store.channels[e]=!n.persist.ghost.channels[e]:n.persist.store.global=!n.persist.ghost.global}return D})(cumcord.modules.common.React,cumcord.modules.webpack,cumcord.patcher,cumcord.pluginData,cumcord.utils,cumcord.modules);
