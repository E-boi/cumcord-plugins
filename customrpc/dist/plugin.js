(function(l,t,S){"use strict";const d={Input:l.webpack.findByDisplayName("TextInput"),SwitchItem:l.webpack.findByDisplayName("SwitchItem"),Text:l.webpack.findByDisplayName("Text"),UserPopout:l.webpack.findByDisplayName("UserProfileActivity"),FormItem:l.webpack.findByDisplayName("FormItem"),ArrowDown:l.webpack.findByDisplayName("ArrowDropDown"),ArrowUp:l.webpack.findByDisplayName("ArrowDropUp"),SelectTempWrapper:l.webpack.findByDisplayName("SelectTempWrapper"),Button:l.webpack.find(e=>e.DropdownSizes)},T=d.Input,B=d.SwitchItem,N=d.Text,R=d.FormItem,A=d.ArrowDown,P=d.ArrowUp,E=d.SelectTempWrapper,U=d.Button,C={dividerDefault:l.webpack.findByProps("dividerDefault").dividerDefault,divider:l.webpack.find(e=>e.divider?.includes("divider-_")).divider};var m=({className:e})=>t.React.createElement("div",{className:`${C.divider} ${C.dividerDefault} ${e}`});const h={...l.webpack.findByProps("marginBottom20")};var g=e=>{const c=e.children;return delete e.children,t.React.createElement(R,{title:c,required:e.required,className:h.marginBottom20},t.React.createElement(T,{...e}),t.React.createElement(m,{className:[h.marginTop20,h.marginBottom20].join(" ")}))};const u={...l.webpack.findByProps("wrapper","base"),...l.webpack.findByProps("flex"),...l.webpack.findByProps("size20"),...l.webpack.findByProps("marginBottom20"),...l.webpack.findByProps("dividerDefault")};var k=({opened:e,children:c,title:n,onChange:s})=>t.React.createElement("div",null,t.React.createElement("div",{onClick:()=>s?.(),className:[u.flex,u.alignCenter,u.marginBottom8].join(" ")},e?t.React.createElement(P,{className:u.base,width:32,height:32}):t.React.createElement(A,{className:u.base,width:32,height:32}),t.React.createElement(N,{className:[u.base,u.size16,u.marginLeft8].join(" ")},n)),e?t.React.createElement("div",{className:[u.marginLeft8,u.marginBottom20].join(" ")},[...c]):null,!e&&t.React.createElement(m,{className:u.marginBottom20}));const p={...l.webpack.findByProps("marginBottom20")};var b=e=>{Array.isArray(e.children)||(e.children=[e.children]);const c=e.children;return delete e.children,t.React.createElement(R,{title:c[0],className:p.marginBottom20,required:e.required},c[1]?t.React.createElement("div",{className:"rpcsetting-select"},t.React.createElement(E,{...e}),c[1]):t.React.createElement(E,{...e}),t.React.createElement(m,{className:[p.marginTop20,p.marginBottom20].join(" ")}))};l.webpack.findByProps("getCurrentUser");const{getAssets:j}=l.webpack.findByProps("getAssets");({...l.webpack.findByProps("h5"),...l.webpack.findByProps("marginBottom20")});const $=[{label:"rpc 1",value:"rpc1"},{label:"rpc 2",value:"rpc2"},{label:"rpc 3",value:"rpc3"}];async function w(e){const c=await j(e),n=Object.values(c).filter(s=>s.type===1);return n.unshift({name:""}),n}var q=({persist:e,reloadRPC:c})=>{const[n,s]=t.React.useState(!1),[D,I]=t.React.useState(!1),[o,_]=t.React.useState();S.useNest(e);const i=e.ghost.selected,r=e.ghost[i];return o||w(r.client_id).then(a=>_(a)).catch(()=>{}),t.React.createElement("div",null,t.React.createElement(b,{value:i,options:$,onChange:a=>{e.store.selected=a.value,w(e.ghost[a.value].client_id).then(y=>_(y)).catch(()=>{})}},"Rpc Config",t.React.createElement(U,{onClick:()=>c(e.ghost)},"Save")),t.React.createElement(B,{value:e.ghost.disable??!1,onChange:()=>{e.store.disable=!e.ghost.disable,c(e.ghost)}},"Disabled"),t.React.createElement(B,{value:r.show_time??!0,onChange:()=>e.store[i].show_time=!r.show_time},"Show Time"),t.React.createElement(g,{required:!0,value:r.client_id,onChange:a=>{e.store[i].client_id=a,w(e.ghost[i].client_id).then(y=>_(y)).catch(()=>{})}},"Client ID"),t.React.createElement(g,{value:r.name,onChange:a=>e.store[i].name=a},"Name"),t.React.createElement(g,{value:r.details,onChange:a=>e.store[i].details=a},"Details"),t.React.createElement(g,{value:r.state,onChange:a=>e.store[i].state=a},"State"),t.React.createElement(k,{title:"Images",opened:n,onChange:()=>{s(!n),I(!1)}},o&&t.React.createElement(b,{value:r.large_image,options:o.map(a=>({label:a.name,value:a.name})),onChange:a=>e.store[i].large_image=a.value},"Large Image"),o&&t.React.createElement(b,{value:r.small_image??"",options:o.map(a=>({label:a.name,value:a.name})),onChange:a=>e.store[i].small_image=a.value},"Small Image"),t.React.createElement(g,{value:r.large_text,onChange:a=>e.store[i].large_text=a},"Large Image Tooltip"),t.React.createElement(g,{value:r.small_text,onChange:a=>e.store[i].small_text=a},"Small Image Tooltip")),t.React.createElement(k,{title:"Buttons",opened:D,onChange:()=>{I(!D),s(!1)}},t.React.createElement(g,{value:r.button1?.label??"",onChange:a=>e.store[i].button1.label=a},"Button 1 Text"),t.React.createElement(g,{value:r.button1?.url??"",onChange:a=>e.store[i].button1.url=a},"Button 1 Url"),t.React.createElement(g,{value:r.button2?.label??"",onChange:a=>e.store[i].button2.label=a},"Button 2 Text"),t.React.createElement(g,{value:r.button2?.url??"",onChange:a=>e.store[i].button2.url=a},"Button 2 Url")))},L=()=>cumcord.patcher.injectCSS(".rpcsetting-select{display:flex}.rpcsetting-select .select-1YfRS9{width:-webkit-fill-available}.rpcsetting-select button{margin-left:9px}");const{SET_ACTIVITY:{handler:f}}=l.webpack.findByProps("SET_ACTIVITY");let x;const F={rpc1:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc2:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc3:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},selected:"rpc1"};function O(e){Object.entries(F).forEach(c=>e[c[0]]=c[1])}function v(e,c=!1){const n=e.selected,s={isSocketConnected:()=>!0,socket:{id:420,application:{id:e[n].client_id,name:e[n].name},transport:"ipc"},args:{pid:69,activity:c||e.disable?null:{details:e[n].details,state:e[n].state,assets:{large_image:e[n].large_image,small_image:e[n].small_image,large_text:e[n].large_text,small_text:e[n].small_text},timestamps:e[n].show_time&&{start:Date.now()}}}};return e[n].button1?.url&&e[n].button1?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[n].button1)||(s.args.activity.buttons=[e[n].button1])),e[n].button2?.url&&e[n].button2?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[n].button2)||(s.args.activity.buttons=[e[n].button2])),s}var W=({persist:e})=>(e.ghost.rpc1||O(e.store),{onLoad(){x=L(),f(v(e.ghost))},onUnload(){x?.(),f(v(e.ghost,!0))},settings:t.React.createElement(q,{persist:e,reloadRPC:c=>f(v(c))})});return W})(cumcord.modules,cumcord.modules.common,cumcord.utils);
