(function(c,t,T){"use strict";const g={Input:c.webpack.findByDisplayName("TextInput"),SwitchItem:c.webpack.findByDisplayName("SwitchItem"),Text:c.webpack.findByDisplayName("Text"),UserPopout:c.webpack.findByDisplayName("UserActivitySection"),FormItem:c.webpack.findByDisplayName("FormItem"),ArrowDown:c.webpack.findByDisplayName("ArrowDropDown"),ArrowUp:c.webpack.findByDisplayName("ArrowDropUp"),SelectTempWrapper:c.webpack.findByDisplayName("SelectTempWrapper"),Button:c.webpack.find(e=>e.DropdownSizes),Divider:({className:e})=>t.React.createElement("div",{className:`divider-3573oO dividerDefault-3rvLe- ${e}`})},N=g.Input,y=g.SwitchItem,E=g.Text,P=g.UserPopout,C=g.FormItem,A=g.ArrowDown,U=g.ArrowUp,k=g.SelectTempWrapper,j=g.Button,h=g.Divider,b={...c.webpack.findByProps("marginBottom20")};var o=e=>{const l=e.children;return delete e.children,t.React.createElement(C,{title:l,required:e.required,className:b.marginBottom20},t.React.createElement(N,{...e}),t.React.createElement(h,{className:[b.marginTop20,b.marginBottom20].join(" ")}))};const u={...c.webpack.findByProps("wrapper","base"),...c.webpack.findByProps("flex"),...c.webpack.findByProps("size20"),...c.webpack.findByProps("marginBottom20"),...c.webpack.findByProps("dividerDefault")};var x=({opened:e,children:l,title:n,onChange:s})=>t.React.createElement("div",null,t.React.createElement("div",{onClick:()=>s?.(),className:[u.flex,u.alignCenter,u.marginBottom8].join(" ")},e?t.React.createElement(U,{className:u.base,width:32,height:32}):t.React.createElement(A,{className:u.base,width:32,height:32}),t.React.createElement(E,{className:[u.base,u.size16,u.marginLeft8].join(" ")},n)),e?t.React.createElement("div",{className:[u.marginLeft8,u.marginBottom20].join(" ")},[...l]):null,!e&&t.React.createElement(h,{className:u.marginBottom20}));const p={...c.webpack.findByProps("marginBottom20")};var w=e=>{Array.isArray(e.children)||(e.children=[e.children]);const l=e.children;return delete e.children,t.React.createElement(C,{title:l[0],className:p.marginBottom20,required:e.required},l[1]?t.React.createElement("div",{className:"rpcsetting-select"},t.React.createElement(k,{...e}),l[1]):t.React.createElement(k,{...e}),t.React.createElement(h,{className:[p.marginTop20,p.marginBottom20].join(" ")}))};const{getCurrentUser:q}=c.webpack.findByProps("getCurrentUser"),{getAssets:L}=c.webpack.findByProps("getAssets"),v={...c.webpack.findByProps("h5"),...c.webpack.findByProps("marginBottom20")},$=[{label:"rpc 1",value:"rpc1"},{label:"rpc 2",value:"rpc2"},{label:"rpc 3",value:"rpc3"}];async function f(e){const l=await L(e),n=Object.values(l).filter(s=>s.type===1);return n.unshift({name:""}),n}var O=({persist:e,reloadRPC:l})=>{const[n,s]=t.React.useState(!1),[S,D]=t.React.useState(!1),[m,R]=t.React.useState();T.useNest(e);const r=e.ghost.selected,i=e.ghost[r];return m||f(i.client_id).then(a=>R(a)).catch(()=>{}),t.React.createElement("div",null,t.React.createElement(w,{value:r,options:$,onChange:a=>{e.store.selected=a.value,f(e.ghost[a.value].client_id).then(B=>R(B)).catch(()=>{})}},"Rpc Config",t.React.createElement(j,{onClick:()=>l(e.ghost)},"Save")),t.React.createElement(y,{value:e.ghost.disable??!1,onChange:()=>{e.store.disable=!e.ghost.disable,l(e.ghost)}},"Disabled"),t.React.createElement(y,{value:i.show_time??!0,onChange:()=>e.store[r].show_time=!i.show_time},"Show Time"),t.React.createElement(o,{required:!0,value:i.client_id,onChange:a=>{e.store[r].client_id=a,f(e.ghost[r].client_id).then(B=>R(B)).catch(()=>{})}},"Client ID"),t.React.createElement(o,{value:i.name,onChange:a=>e.store[r].name=a},"Name"),t.React.createElement(o,{value:i.details,onChange:a=>e.store[r].details=a},"Details"),t.React.createElement(o,{value:i.state,onChange:a=>e.store[r].state=a},"State"),t.React.createElement(x,{title:"Images",opened:n,onChange:()=>{s(!n),D(!1)}},m&&t.React.createElement(w,{value:i.large_image,options:m.map(a=>({label:a.name,value:a.name})),onChange:a=>e.store[r].large_image=a.value},"Large Image"),m&&t.React.createElement(w,{value:i.small_image??"",options:m.map(a=>({label:a.name,value:a.name})),onChange:a=>e.store[r].small_image=a.value},"Small Image"),t.React.createElement(o,{value:i.large_text,onChange:a=>e.store[r].large_text=a},"Large Image Tooltip"),t.React.createElement(o,{value:i.small_text,onChange:a=>e.store[r].small_text=a},"Small Image Tooltip")),t.React.createElement(x,{title:"Buttons",opened:S,onChange:()=>{D(!S),s(!1)}},t.React.createElement(o,{value:i.button1?.label??"",onChange:a=>e.store[r].button1.label=a},"Button 1 Text"),t.React.createElement(o,{value:i.button1?.url??"",onChange:a=>e.store[r].button1.url=a},"Button 1 Url"),t.React.createElement(o,{value:i.button2?.label??"",onChange:a=>e.store[r].button2.label=a},"Button 2 Text"),t.React.createElement(o,{value:i.button2?.url??"",onChange:a=>e.store[r].button2.url=a},"Button 2 Url")),t.React.createElement(E,{className:`${v.h5} ${v.marginBottom4}`},"Your RPC:"),t.React.createElement("div",{className:v.marginBottom20,style:{backgroundColor:"var(--background-floating)"}},t.React.createElement(P,{user:q()})))},F=()=>cumcord.patcher.injectCSS(`.rpcsetting-select{display:flex}.rpcsetting-select .select-2TCrqx{width:-webkit-fill-available}.rpcsetting-select button{margin-left:9px}
`);const{SET_ACTIVITY:{handler:d}}=c.webpack.findByProps("SET_ACTIVITY");console.log(d);let I;const W={rpc1:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc2:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc3:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},selected:"rpc1"};function z(e){Object.entries(W).forEach(l=>e[l[0]]=l[1])}function _(e,l=!1){const n=e.selected,s={isSocketConnected:()=>!0,socket:{id:420,application:{id:e[n].client_id,name:e[n].name},transport:"ipc"},args:{pid:69,activity:l||e.disable?null:{details:e[n].details,state:e[n].state,assets:{large_image:e[n].large_image,small_image:e[n].small_image,large_text:e[n].large_text,small_text:e[n].small_text},timestamps:e[n].show_time&&{start:Date.now()}}}};return e[n].button1?.url&&e[n].button1?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[n].button1)||(s.args.activity.buttons=[e[n].button1])),e[n].button2?.url&&e[n].button2?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[n].button2)||(s.args.activity.buttons=[e[n].button2])),s}var Y=({persist:e})=>(e.ghost.rpc1||z(e.store),{onLoad(){I=F(),d(_(e.ghost))},onUnload(){I?.(),d(_(e.ghost,!0))},settings:t.React.createElement(O,{persist:e,reloadRPC:l=>d(_(l))})});return Y})(cumcord.modules,cumcord.modules.common,cumcord.utils);
