(function(l,t,N){"use strict";const o={Input:l.webpack.findByDisplayName("TextInput"),SwitchItem:l.webpack.findByDisplayName("SwitchItem"),Text:l.webpack.findByDisplayName("Text"),UserPopout:l.webpack.findByDisplayName("UserActivitySection"),FormItem:l.webpack.findByDisplayName("FormItem"),ArrowDown:l.webpack.findByDisplayName("ArrowDropDown"),ArrowUp:l.webpack.findByDisplayName("ArrowDropUp"),SelectTempWrapper:l.webpack.findByDisplayName("SelectTempWrapper"),Divider:({className:e})=>t.React.createElement("div",{className:`divider-3573oO dividerDefault-3rvLe- ${e}`})},T=o.Input,y=o.SwitchItem,E=o.Text,S=o.UserPopout,R=o.FormItem,C=o.ArrowDown,A=o.ArrowUp,U=o.SelectTempWrapper,h=o.Divider,d={...l.webpack.findByProps("marginBottom20")};var u=e=>{const n=e.children;return delete e.children,t.React.createElement(R,{title:n,required:e.required,className:d.marginBottom20},t.React.createElement(T,{...e}),t.React.createElement(h,{className:[d.marginTop20,d.marginBottom20].join(" ")}))};const g={...l.webpack.findByProps("wrapper","base"),...l.webpack.findByProps("flex"),...l.webpack.findByProps("size20"),...l.webpack.findByProps("marginBottom20"),...l.webpack.findByProps("dividerDefault")};var k=({opened:e,children:n,title:c,onChange:s})=>t.React.createElement("div",null,t.React.createElement("div",{onClick:()=>s?.(),className:[g.flex,g.alignCenter,g.marginBottom8].join(" ")},e?t.React.createElement(A,{className:g.base,width:32,height:32}):t.React.createElement(C,{className:g.base,width:32,height:32}),t.React.createElement(E,{className:[g.base,g.size16,g.marginLeft8].join(" ")},c)),e?t.React.createElement("div",{className:[g.marginLeft8,g.marginBottom20].join(" ")},[...n]):null,!e&&t.React.createElement(h,{className:g.marginBottom20}));const x={...l.webpack.findByProps("marginBottom20")};var b=e=>{const n=e.children;return delete e.children,t.React.createElement(R,{title:n,className:l.webpack.findByProps("marginBottom20").marginBottom20,required:e.required},t.React.createElement(U,{...e}),t.React.createElement(h,{className:[x.marginTop20,x.marginBottom20].join(" ")}))};const{getCurrentUser:j}=l.webpack.findByProps("getCurrentUser"),{getAssets:L}=l.webpack.findByProps("getAssets"),p={...l.webpack.findByProps("h5"),...l.webpack.findByProps("marginBottom20")},O=[{label:"rpc 1",value:"rpc1"},{label:"rpc 2",value:"rpc2"},{label:"rpc 3",value:"rpc3"}];async function w(e){const n=await L(e),c=Object.values(n).filter(s=>s.type===1);return c.unshift({name:""}),c}var $=({persist:e,reloadRPC:n})=>{const[c,s]=t.React.useState(!1),[I,D]=t.React.useState(!1),[m,_]=t.React.useState();N.useNest(e);const i=e.ghost.selected,r=e.ghost[i];return m||w(r.client_id).then(a=>_(a)).catch(()=>{}),t.React.createElement("div",null,t.React.createElement(b,{value:i,options:O,onChange:a=>{e.store.selected=a.value,w(e.ghost[a.value].client_id).then(B=>_(B)).catch(()=>{}),n(e.ghost)}},"Rpc Config"),t.React.createElement(y,{value:e.ghost.disable??!1,onChange:()=>{e.store.disable=!e.ghost.disable,n(e.ghost)}},"Disabled"),t.React.createElement(y,{value:r.show_time??!0,onChange:()=>{e.store[i].show_time=!r.show_time,n(e.ghost)}},"Show Time"),t.React.createElement(u,{required:!0,value:r.client_id,onChange:a=>{e.store[i].client_id=a,w(e.ghost[i].client_id).then(B=>_(B)).catch(()=>{}),n(e.ghost)}},"Client ID"),t.React.createElement(u,{value:r.name,onChange:a=>{e.store[i].name=a,n(e.ghost)}},"Name"),t.React.createElement(u,{value:r.details,onChange:a=>{e.store[i].details=a,n(e.ghost)}},"Details"),t.React.createElement(u,{value:r.state,onChange:a=>{e.store[i].state=a,n(e.ghost)}},"State"),t.React.createElement(k,{title:"Images",opened:c,onChange:()=>{s(!c),D(!1)}},m&&t.React.createElement(b,{value:r.large_image,options:m.map(a=>({label:a.name,value:a.name})),onChange:a=>{e.store[i].large_image=a.value,n(e.ghost)}},"Large Image"),m&&t.React.createElement(b,{value:r.small_image??"",options:m.map(a=>({label:a.name,value:a.name})),onChange:a=>{e.store[i].small_image=a.value,n(e.ghost)}},"Small Image"),t.React.createElement(u,{value:r.large_text,onChange:a=>{e.store[i].large_text=a,n(e.ghost)}},"Large Image Tooltip"),t.React.createElement(u,{value:r.small_text,onChange:a=>{e.store[i].small_text=a,n(e.ghost)}},"Small Image Tooltip")),t.React.createElement(k,{title:"Buttons",opened:I,onChange:()=>{D(!I),s(!1)}},t.React.createElement(u,{value:r.button1?.label??"",onChange:a=>{e.store[i].button1.label=a,n(e.ghost)}},"Button 1 Text"),t.React.createElement(u,{value:r.button1?.url??"",onChange:a=>{e.store[i].button1.url=a,n(e.ghost)}},"Button 1 Url"),t.React.createElement(u,{value:r.button2?.label??"",onChange:a=>{e.store[i].button2.label=a,n(e.ghost)}},"Button 2 Text"),t.React.createElement(u,{value:r.button2?.url??"",onChange:a=>{e.store[i].button2.url=a,n(e.ghost)}},"Button 2 Url")),t.React.createElement(E,{className:`${p.h5} ${p.marginBottom4}`},"Your RPC:"),t.React.createElement("div",{className:p.marginBottom20,style:{backgroundColor:"var(--background-floating)"}},t.React.createElement(S,{user:j()})))};const{SET_ACTIVITY:{handler:v}}=l.webpack.findByProps("INVITE_BROWSER"),q={rpc1:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc2:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},rpc3:{show_time:!0,client_id:"892203377503658064",name:"cum",state:"eating cum",details:"Browsing cum",large_image:"cumcord",small_image:"cumcord",large_text:"cuming",small_text:"made with cum"},selected:"rpc1"};function P(e){Object.entries(q).forEach(n=>e[n[0]]=n[1])}function f(e,n=!1){const c=e.selected,s={socket:{id:420,application:{id:e[c].client_id,name:e[c].name},transport:"ipc"},args:{pid:69,activity:n||e.disable?null:{details:e[c].details,state:e[c].state,assets:{large_image:e[c].large_image,small_image:e[c].small_image,large_text:e[c].large_text,small_text:e[c].small_text},timestamps:e[c].show_time&&{start:Date.now()}}}};return e[c].button1?.url&&e[c].button1?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[c].button1)||(s.args.activity.buttons=[e[c].button1])),e[c].button2?.url&&e[c].button2?.label&&s.args.activity&&(s.args.activity.buttons?.push(e[c].button2)||(s.args.activity.buttons=[e[c].button2])),s}var W=({persist:e})=>(e.ghost.rpc1||P(e.store),{onLoad(){v(f(e.ghost))},onUnload(){v(f(e.ghost,!0))},settings:t.React.createElement($,{persist:e,reloadRPC:n=>v(f(n))})});return W})(cumcord.modules,cumcord.modules.common,cumcord.utils);
