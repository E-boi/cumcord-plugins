(function(u,p,v,b,c){"use strict";function g(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var r=g(v);const y=()=>Math.random().toString(16).substring(2),a=new Map;async function d(e,t){const n=await fetch(e);!n.ok||a.set(t,u.injectCSS(await n.text()))}function E(e){Object.entries(e).filter(t=>t).forEach(t=>t[1].applied&&d(t[1].url,t[0]))}function h(e,t){const n=y();return e.themes[n]={url:t,applied:!1},{[n]:t}}function j(){a.forEach(e=>e()),a.clear()}function o(e){a.get(e)?.(),a.delete(e)}const m={divider:c.webpack.findByPropsAll("divider")[1].divider,dividerDefault:c.webpack.findByProps("dividerDefault").dividerDefault};var w=({className:e})=>r.createElement("div",{className:`${m.divider} ${m.dividerDefault} ${e}`});const x=c.webpack.findByDisplayName("TextInput"),T=c.webpack.findByDisplayName("FormItem"),s={...c.webpack.findByProps("marginBottom20")};var D=e=>{const t=[e.children];return delete e.children,r.createElement(T,{title:e.title,required:e.required,className:s.marginBottom20},r.createElement("div",{className:"cumstyles-textinput"},r.createElement(x,{...e}),t),r.createElement(w,{className:[s.marginTop20,s.marginBottom20].join(" ")}))};const i=c.webpack.find(e=>e.DropdownSizes);var k=({persist:e})=>(b.useNest(e),r.createElement("div",null,Object.entries(e.ghost.themes||{}).filter(t=>t).map((t,n)=>r.createElement(D,{title:`Theme ${++n}`,onChange:l=>e.store.themes[t[0]].url=l,value:t[1].url},r.createElement(i,{onClick:()=>{!t[1]?.url||(o(t[0]),d(t[1].url,t[0]),t[1].applied=!0,e.store.themes[t[0]]=t[1])}},"Apply"),r.createElement(i,{onClick:()=>{o(t[0]),t[1].applied=!1,e.store.themes[t[0]]=t[1]}},"Disable"),r.createElement(i,{onClick:()=>{o(t[0]),delete e.store.themes[t[0]]}},"Remove"))),r.createElement(i,{onClick:()=>h(e.store)},"Add Theme"))),B=()=>u.injectCSS(".cumstyles-textinput{display:flex}.cumstyles-textinput>div{flex:auto}.cumstyles-textinput button{margin-left:10px}");let f;var N=({persist:e})=>({onLoad(){f=B(),e.ghost.themes&&E(e.ghost.themes)},onUnload(){f?.(),j()},settings:p.React.createElement(k,{persist:e})});return N})(cumcord.patcher,cumcord.modules.common,cumcord.modules.common.React,cumcord.utils,cumcord.modules);
